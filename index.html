<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yeeps-Share</title>
    <style>
        :root {
            --yeeps-orange: #FF8C00;
            --yeeps-yellow: #FFD700;
            --yeeps-blue: #87CEEB;
            --yeeps-dark: #333;
        }

        body {
            font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif;
            background-color: var(--yeeps-blue);
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
            padding-top: 80px; /* Space for the top nav */
        }

        /* --- OFFICIAL LINKS BAR --- */
        .top-nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 0;
            display: flex;
            justify-content: center;
            gap: 20px;
            z-index: 1000;
        }

        .top-nav a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            font-size: 0.9rem;
            padding: 5px 10px;
            border-radius: 5px;
            transition: background 0.3s;
        }

        .top-nav a:hover {
            background: var(--yeeps-orange);
        }

        /* --- MUSIC CONTROLLER --- */
        .music-ctrl {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            padding: 10px;
            border-radius: 50px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1000;
            border: 2px solid var(--yeeps-orange);
        }

        .mute-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* --- REST OF THE STYLES --- */
        h1 {
            color: white;
            text-shadow: 3px 3px 0px var(--yeeps-orange);
            font-size: 3rem;
            margin-bottom: 10px;
        }

        #featured-zone { width: 100%; max-width: 550px; margin-bottom: 20px; display: none; }
        .featured-label { background-color: var(--yeeps-yellow); color: var(--yeeps-dark); padding: 5px 15px; border-radius: 20px; font-weight: bold; display: inline-block; margin-bottom: 10px; border: 2px solid white; }

        .input-container { background: white; padding: 20px; border-radius: 15px; width: 100%; max-width: 550px; display: flex; flex-direction: column; gap: 10px; margin-bottom: 30px; border: 4px solid var(--yeeps-orange); box-shadow: 0 8px 0 rgba(0,0,0,0.1); }
        input, select { padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 1rem; }
        button.post-btn { padding: 12px; background-color: var(--yeeps-orange); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 1.1rem; }

        #feed { width: 100%; max-width: 550px; }
        .post { background: white; padding: 15px; margin-bottom: 20px; border-radius: 15px; position: relative; }
        .post.pinned { border: 4px solid var(--yeeps-yellow); background: #fffbea; }
        .media-display { width: 100%; border-radius: 10px; margin-top: 10px; }
        .link-card { display: block; background: #f0f2f5; padding: 15px; border-radius: 10px; text-decoration: none; color: #007bff; font-weight: bold; margin-top: 10px; }
        
        .admin-controls { border-top: 1px solid #eee; margin-top: 10px; padding-top: 10px; display: none; justify-content: flex-end; gap: 10px; }
        .admin-btn { padding: 5px 10px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .pin-btn { background-color: var(--yeeps-yellow); }
        .del-btn { background-color: #ff4d4d; color: white; }
        footer { margin-top: 50px; color: rgba(255,255,255,0.6); font-size: 0.8rem; cursor: pointer; }
    </style>
</head>
<body>

    <nav class="top-nav">
        <a href="https://www.oculus.com/experiences/quest/7276525922406858/" target="_blank">üéÆ Play Yeeps</a>
        <a href="https://discord.gg/yeeps" target="_blank">üí¨ Official Discord</a>
        <a href="https://yeeps.com/" target="_blank">üåê Official Website</a>
    </nav>

    <h1>üß± Yeeps-Share</h1>

    <div class="music-ctrl">
        <span style="font-size: 0.8rem; font-weight: bold;">Yeeps Tunes:</span>
        <button id="muteBtn" class="mute-btn" onclick="toggleMusic()">üîá</button>
        <audio id="bgMusic" loop>
            <source src="music/SuburbTheme.ogg" type="audio/mpeg">
        </audio>
    </div>

    <div id="featured-zone">
        <div class="featured-label">‚≠ê Featured Posts</div>
        <div id="featured-feed"></div>
    </div>

    <div class="input-container">
        <h3>Share your stuff!</h3>
        <input type="text" id="postText" placeholder="What's happening in the game?">
        
        <select id="mediaType">
            <option value="none">Text Only</option>
            <option value="link">üîó Website Link</option>
            <option value="image">üñºÔ∏è Image URL</option>
            <option value="video">üé• Video URL (.mp4)</option>
        </select>
        <input type="text" id="mediaUrl" placeholder="Paste link here..." style="display:none;">
        <button class="post-btn" onclick="addPost()">Post It!</button>
    </div>

    <div id="feed"></div>

    <footer onclick="attemptLogin()">Admin Login</footer>

    <script>
        // --- ADMIN CONFIG ---
        const ADMIN_PASSWORD = "yeeps"; 
        let isAdmin = false;

        // --- MUSIC LOGIC ---
        const music = document.getElementById('bgMusic');
        const muteBtn = document.getElementById('muteBtn');
        let isMuted = true;

        function toggleMusic() {
            if (isMuted) {
                music.play();
                muteBtn.innerText = "üîä";
                isMuted = false;
            } else {
                music.pause();
                muteBtn.innerText = "üîá";
                isMuted = true;
            }
        }

        // --- POSTING LOGIC ---
        const typeSelector = document.getElementById('mediaType');
        const urlInput = document.getElementById('mediaUrl');

        typeSelector.addEventListener('change', function() {
            urlInput.style.display = (this.value === 'none') ? 'none' : 'block';
        });

        document.addEventListener('DOMContentLoaded', loadPosts);

        function addPost() {
            const textInput = document.getElementById('postText');
            const typeInput = document.getElementById('mediaType');
            const urlInputBox = document.getElementById('mediaUrl');

            if (!textInput.value && !urlInputBox.value) return;

            const post = {
                id: Date.now(),
                content: textInput.value,
                mediaType: typeInput.value,
                mediaUrl: urlInputBox.value,
                isPinned: false
            };

            let posts = JSON.parse(localStorage.getItem('yeepsPosts')) || [];
            posts.push(post);
            localStorage.setItem('yeepsPosts', JSON.stringify(posts));
            
            textInput.value = ''; urlInputBox.value = '';
            loadPosts();
        }

        function renderPost(post) {
            const postDiv = document.createElement('div');
            postDiv.className = `post ${post.isPinned ? 'pinned' : ''}`;
            postDiv.id = post.id;

            let mediaHTML = '';
            if (post.mediaType === 'link') {
                mediaHTML = `<a href="${post.mediaUrl}" target="_blank" class="link-card">üîó Visit: ${post.mediaUrl}</a>`;
            } else if (post.mediaType === 'image') {
                mediaHTML = `<img src="${post.mediaUrl}" class="media-display">`;
            } else if (post.mediaType === 'video') {
                mediaHTML = `<video controls class="media-display"><source src="${post.mediaUrl}" type="video/mp4"></video>`;
            }

            postDiv.innerHTML = `
                <div class="post-content">${post.content}</div>
                ${mediaHTML}
                <div class="admin-controls" style="display: ${isAdmin ? 'flex' : 'none'}">
                    <button class="admin-btn pin-btn" onclick="togglePin(${post.id})">${post.isPinned ? 'Un-Star' : '‚≠ê Star'}</button>
                    <button class="admin-btn del-btn" onclick="deletePost(${post.id})">Delete</button>
                </div>
            `;
            return postDiv;
        }

        function loadPosts() {
            let posts = JSON.parse(localStorage.getItem('yeepsPosts')) || [];
            const mainFeed = document.getElementById('feed');
            const featuredFeed = document.getElementById('featured-feed');
            const featuredZone = document.getElementById('featured-zone');
            
            mainFeed.innerHTML = ''; featuredFeed.innerHTML = '';
            let hasFeatured = false;

            posts.forEach(post => {
                const el = renderPost(post);
                if (post.isPinned) { featuredFeed.prepend(el); hasFeatured = true; }
                else { mainFeed.prepend(el); }
            });
            featuredZone.style.display = hasFeatured ? 'block' : 'none';
        }

        function deletePost(id) {
            if (!isAdmin) return;
            let posts = JSON.parse(localStorage.getItem('yeepsPosts')) || [];
            posts = posts.filter(p => p.id !== id);
            localStorage.setItem('yeepsPosts', JSON.stringify(posts));
            loadPosts();
        }

        function togglePin(id) {
            if (!isAdmin) return;
            let posts = JSON.parse(localStorage.getItem('yeepsPosts')) || [];
            const i = posts.findIndex(p => p.id === id);
            if (i > -1) { posts[i].isPinned = !posts[i].isPinned; localStorage.setItem('yeepsPosts', JSON.stringify(posts)); loadPosts(); }
        }

        function attemptLogin() {
            if (prompt("Admin Password:") === ADMIN_PASSWORD) {
                isAdmin = true; alert("Admin Active!"); loadPosts();
            }
        }
    </script>
</body>
</html>
