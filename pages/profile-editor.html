<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Profile | Yeeps-Share</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <nav class="top-nav"><a href="../index.html">üè† Home</a></nav>

    <div class="input-box" style="margin-top:40px; text-align:center;">
        <h2>Edit Profile</h2>
        <input type="text" id="newPfp" placeholder="New PFP URL">
        <textarea id="newBio" placeholder="Update your bio..."></textarea>
        <input type="password" id="newPass" placeholder="Update Password">
        <button onclick="save()" style="width:100%; padding:10px; background:var(--yeeps-orange); color:white; border:none; border-radius:10px;">Save Changes</button>
    </div>

    <script>
        const user = localStorage.getItem('current_yeep_user');
        const db = JSON.parse(localStorage.getItem('yeeps_users_db')) || {};

        if(db[user]) {
            document.getElementById('newPfp').value = db[user].pfp || "";
            document.getElementById('newBio').value = db[user].bio || "";
        }

        function save() {
            db[user] = {
                pfp: document.getElementById('newPfp').value,
                bio: document.getElementById('newBio').value,
                password: document.getElementById('newPass').value || db[user]?.password
            };
            localStorage.setItem('yeeps_users_db', JSON.stringify(db));
            alert("Profile saved!");
            window.location.href = "../index.html";
        }
    </script>
</body>
</html>
