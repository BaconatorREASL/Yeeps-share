<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <nav class="top-nav"><a href="../index.html">üè† Home</a></nav>
    <div id="pHeader" style="margin-top:20px;"></div>
    <div id="pFeed"></div>

    <script>
        const u = new URLSearchParams(window.location.search).get('u');
        const uDB = JSON.parse(localStorage.getItem('yeeps_users_db')) || {};
        const rDB = JSON.parse(localStorage.getItem('yeeps_roles_db')) || {};
        const posts = JSON.parse(localStorage.getItem('yeepsPosts')) || [];
        const data = uDB[u] || {};

        document.getElementById('pHeader').innerHTML = `
            <div class="input-box" style="text-align:center;">
                <img src="https://ui-avatars.com/api/?name=${u}" style="width:80px; border-radius:50%;">
                <h2>${u}</h2>
                <p>${data.bio || "No bio set."}</p>
            </div>`;

        const list = document.getElementById('pFeed');
        posts.filter(p => p.username === u).reverse().forEach(p => {
            list.innerHTML += `
                <div class="post">
                    <p>${p.content}</p>
                </div>`;
        });
    </script>
</body>
</html>
